import{c as p,r as g,a as o,g as a,H as P,U as w,b as l,P as f,F as m,L as S}from"./render-DKx0WQ-e.js";const n="/front_5th_chapter1-2/",E=e=>{const{subscribe:u,notify:s}=p(),c=t=>t===""?"/":t.replace(/\/+$/,"")||"/",i=()=>{const t=window.location.pathname,r=t.startsWith(n)?t.slice(n.length):t;return c(r)},h=()=>{const t=i();return console.log("Current path:",t),console.log("Available routes:",Object.keys(e)),e[t]},d=t=>{const r=c(t),b=r==="/"?n:`${n}${r.startsWith("/")?r.slice(1):r}`;window.history.pushState(null,null,b),s()};return window.addEventListener("popstate",()=>s()),{get path(){return i()},push:d,subscribe:u,getTarget:h}};g.set(E({"/":P,"/login":()=>{const{loggedIn:e}=a.getState();if(e)throw new m;return l(S,null)},"/profile":()=>{const{loggedIn:e}=a.getState();if(!e)throw new w;return l(f,null)}}));function v(){g.get().subscribe(o),a.subscribe(o),o()}v();
